<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACI 318 Concrete Beam Checker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        (function() {
            const isDark = localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
            document.documentElement.classList.toggle('dark', isDark);
        })();
    </script>
    <link rel="stylesheet" href="../styles.min.css">
    <script src="../js/template.js" defer></script>
    <script src="../js/shared-utils.js" defer></script>
    <script src="../js/validation-rules.js" defer></script>
    <script src="aci 318 concrete.js" defer></script>
</head>
<body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-300">
    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <div id="header-placeholder" style="min-height: 110px;"></div>

        <main id="aci-form">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div>
                    <div class="form-section">
                        <h2>Material Properties</h2>
                        <div class="space-y-4">
                            <div>
                                <label for="fc" class="block text-sm font-medium mb-1">Concrete Strength (f'c, psi)</label>
                                <input type="number" id="fc" value="4000">
                            </div>
                            <div>
                                <label for="fy" class="block text-sm font-medium mb-1">Steel Yield Strength (fy, psi)</label>
                                <input type="number" id="fy" value="60000">
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h2>Beam Geometry</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label for="b" class="block text-sm">Width (b, in)</label><input type="number" id="b" value="12"></div>
                            <div><label for="h" class="block text-sm">Height (h, in)</label><input type="number" id="h" value="24"></div>
                            <div><label for="cover" class="block text-sm">Cover (in)</label><input type="number" id="cover" value="1.5"></div>
                        </div>
                    </div>
                </div>

                <div>
                    <div class="form-section">
                        <h2>Flexural Reinforcement</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label for="num_bars" class="block text-sm">No. of Bars</label><input type="number" id="num_bars" value="3"></div>
                            <div><label for="bar_size" class="block text-sm">Bar Size (#)</label><input type="number" id="bar_size" value="8"></div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h2>Shear Reinforcement</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label for="stirrup_size" class="block text-sm">Stirrup Size (#)</label><input type="number" id="stirrup_size" value="3"></div>
                            <div><label for="stirrup_legs" class="block text-sm">No. of Legs</label><input type="number" id="stirrup_legs" value="2"></div>
                            <div><label for="stirrup_spacing" class="block text-sm">Spacing (s, in)</label><input type="number" id="stirrup_spacing" value="10"></div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h2>Factored Loads (LRFD)</h2>
                        <div class="space-y-4">
                            <div>
                                <label for="Mu" class="block text-sm font-medium mb-1">Moment (M<sub>u</sub>, kip-ft)</label>
                                <input type="number" id="Mu" value="150">
                            </div>
                            <div>
                                <label for="Vu" class="block text-sm font-medium mb-1">Shear (V<sub>u</sub>, kips)</label>
                                <input type="number" id="Vu" value="30">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-1">
                    <div class="form-section">
                        <h2>Summary of Results</h2>
                        <div id="summary-results" class="space-y-3">
                            <p class="text-center text-gray-500">Click "Run Check" to see results.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-8 flex justify-center">
                <button id="load-inputs-btn" class="bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600 mr-4">Load Inputs</button>
                <button id="save-inputs-btn" class="bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 mr-4">Save Inputs</button>
                <button id="run-check-btn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700">Run Check</button>
                <input type="file" id="file-input" class="hidden" accept=".txt,.json">
            </div>
        </main>

        <div id="feedback-message" class="text-center mt-2 text-sm h-5"></div>
        <div id="results-container" class="mt-10 results-container"></div>
        <div id="footer-placeholder"></div>
    </div>

</body>
</html>