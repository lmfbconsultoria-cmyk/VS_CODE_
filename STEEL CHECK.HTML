<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AISC Steel Section Design Checker (AISC 360-16)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        // On page load or when changing themes, best to add inline in `head` to avoid FOUC
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .form-section {
            background-color: white;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            margin-bottom: 1.5rem;
        }
        .dark .form-section {
            background-color: #1f2937;
        }
        .form-section h2 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #111827;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 0.75rem;
            margin-bottom: 1rem;
        }
        .dark .form-section h2 {
            color: #f3f4f6;
            border-color: #374151;
        }
        label {
            font-weight: 500;
            color: #374151;
        }
        .dark label {
            color: #d1d5db;
        }
        input[type="number"], select {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            transition: border-color 0.2s;
            background-color: #fff;
        }
        .dark input[type="number"], .dark select {
            background-color: #374151;
            border-color: #4b5563;
            color: #f3f4f6;
        }
        input[type="number"]:focus, select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
        }
        .results-container table {
            width: 100%;
            margin-top: 1rem;
            border-collapse: collapse;
        }
        .results-container th, .results-container td {
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            text-align: left;
        }
        .dark .results-container th, .dark .results-container td {
            border-color: #4b5563;
        }
        .results-container th {
            background-color: #f3f4f6;
            font-weight: 600;
        }
        .results-container caption {
            font-size: 1.125rem;
            font-weight: 600;
            caption-side: top;
            padding: 0.75rem;
            text-align: center;
            background-color: #e5e7eb;
            color: #111827;
        }
        
        .dark .results-container th {
            background-color: #1f2937;
        }
        .dark .results-container caption {
            background-color: #374151;
            color: #f3f4f6;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-300">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="text-center mb-8 relative">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100">AISC Steel Section Design Checker (AISC 360-16)</h1>
            <p class="text-lg text-gray-600 dark:text-gray-400 mt-2">Set parameters, section properties, and loads to run the check.</p>
            <button id="theme-toggle" type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 absolute top-0 right-0">
                <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 5.05A1 1 0 003.636 6.464l.707.707a1 1 0 001.414-1.414l-.707-.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
            </button>
        </header>

        <main id="steel-calculator-form">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Column 1: Design & Material -->
                <div>
                    <div class="form-section">
                        <h2 class="dark:text-gray-200">Design Parameters</h2>
                        <div class="space-y-4">
                            <div>
                                <label for="design_method" class="block text-sm font-medium mb-1">Design Method</label>
                                <select id="design_method">
                                    <option value="LRFD">LRFD</option>
                                    <option value="ASD" selected>ASD</option>
                                </select>
                            </div>
                            <div>
                                <label for="unit_system" class="block text-sm font-medium mb-1">Unit System</label>
                                <select id="unit_system">
                                    <option value="imperial" selected>Imperial (ksi, in, ft)</option>
                                    <option value="metric">Metric (MPa, mm, m)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h2 class="dark:text-gray-200">Material Properties</h2>
                        <div class="space-y-4">
                            <div>
                                <label for="Fy" class="block text-sm font-medium mb-1">Yield Strength (Fy)</label>
                                <input type="number" id="Fy" value="50">
                            </div>
                            <div>
                                <label for="Fu" class="block text-sm font-medium mb-1">Ultimate Strength (Fu)</label>
                                <input type="number" id="Fu" value="65">
                            </div>
                            <div>
                                <label for="E" class="block text-sm font-medium mb-1">Modulus of Elasticity (E)</label>
                                <input type="number" id="E" value="29000">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Column 2: Geometry -->
                <div>
                    <div class="form-section">
                        <h2 class="dark:text-gray-200">Section Type & Geometry</h2>
                        <div class="space-y-4">
                            <div>
                                <label for="section_type" class="block text-sm font-medium mb-1">Section Type</label>
                                <select id="section_type">
                                    <option value="I-Shape" selected>I-Shape</option>
                                    <option value="Rectangular">Rectangular</option>
                                    <option value="HSS/Pipe (Circular)">HSS/Pipe (Circular)</option>
                                    <option value="Manual Input">Manual Input</option>
                                </select>
                            </div>
                             <div>
                                <label for="Section_Name" class="block text-sm font-medium mb-1">Section Name</label>
                                <input type="text" id="Section_Name" value="W33X118" class="w-full p-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="d" class="block text-sm font-medium mb-1">Depth (d)</label>
                                    <input type="number" id="d" value="32.9">
                                </div>
                                <div>
                                    <label for="bf" class="block text-sm font-medium mb-1">Flange Width (bf)</label>
                                    <input type="number" id="bf" value="11.5">
                                </div>
                                <div>
                                    <label for="tf" class="block text-sm font-medium mb-1">Flange Thick (tf)</label>
                                    <input type="number" id="tf" value="0.74">
                                </div>
                                <div>
                                    <label for="tw" class="block text-sm font-medium mb-1">Web Thick (tw)</label>
                                    <input type="number" id="tw" value="0.55">
                                </div>
                            </div>
                        </div>
                    </div>
                     <div class="form-section">
                        <h2 class="dark:text-gray-200">Manual Properties</h2>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mb-2">Only used if "Manual Input" is selected above.</p>
                         <div class="grid grid-cols-2 gap-4">
                            <div><label for="Ag_manual" class="block text-sm">Ag</label><input type="number" id="Ag_manual" value="34.7"></div>
                            <div><label for="I_manual" class="block text-sm">Ix</label><input type="number" id="I_manual" value="5870"></div>
                            <div><label for="Sx_manual" class="block text-sm">Sx</label><input type="number" id="Sx_manual" value="357"></div>
                            <div><label for="Zx_manual" class="block text-sm">Zx</label><input type="number" id="Zx_manual" value="406"></div>
                            <div><label for="ry_manual" class="block text-sm">ry</label><input type="number" id="ry_manual" value="2.59"></div>
                            <div><label for="rts_manual" class="block text-sm">rts</label><input type="number" id="rts_manual" value="2.89"></div>
                             <div><label for="J_manual" class="block text-sm">J</label><input type="number" id="J_manual" value="6.06"></div>
                            <div><label for="Cw_manual" class="block text-sm">Cw</label><input type="number" id="Cw_manual" value="48300"></div>
                         </div>
                    </div>
                </div>
                
                <!-- Column 3: Bracing & Loads -->
                <div>
                     <div class="form-section">
                        <h2 class="dark:text-gray-200">Bracing & Loading</h2>
                        <div class="space-y-4">
                             <div>
                                <label for="Lb_input" class="block text-sm font-medium mb-1">Unbraced Length (Lb)</label>
                                <input type="number" id="Lb_input" value="20">
                            </div>
                             <div>
                                <label for="K" class="block text-sm font-medium mb-1">Effective Length Factor (K)</label>
                                <input type="number" id="K" value="1.0">
                            </div>
                             <div>
                                <label for="Cb" class="block text-sm font-medium mb-1">LTB Factor (Cb)</label>
                                <input type="number" id="Cb" value="1.0">
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h2 class="dark:text-gray-200">Applied Loads</h2>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mb-2">Use negative for compression.</p>
                        <div class="space-y-4">
                            <div>
                                <label for="Pu_or_Pa" class="block text-sm font-medium mb-1">Axial (Pu / Pa)</label>
                                <input type="number" id="Pu_or_Pa" value="0">
                            </div>
                            <div>
                                <label for="Mu_or_Ma" class="block text-sm font-medium mb-1">Moment (Mu / Ma)</label>
                                <input type="number" id="Mu_or_Ma" value="350">
                            </div>
                            <div>
                                <label for="Vu_or_Va" class="block text-sm font-medium mb-1">Shear (Vu / Va)</label>
                                <input type="number" id="Vu_or_Va" value="35">
                            </div>
                             <div>
                                <label for="Tu_or_Ta" class="block text-sm font-medium mb-1">Torsion (Tu / Ta)</label>
                                <input type="number" id="Tu_or_Ta" value="0">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-8 flex justify-center">
                 <button id="run-steel-check-btn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-300 transform hover:scale-105">Run Steel Check</button>
            </div>
        </main>

        <div id="steel-results-container" class="mt-10 results-container"></div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const runButton = document.getElementById('run-steel-check-btn');
        runButton.addEventListener('click', handleRunSteelCheck);

        const themeToggle = document.getElementById('theme-toggle');
        themeToggle.addEventListener('click', () => {
             const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
             const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
             themeToggleDarkIcon.classList.toggle('hidden');
             themeToggleLightIcon.classList.toggle('hidden');
             if (localStorage.getItem('color-theme') === 'light') {
                 document.documentElement.classList.add('dark');
                 localStorage.setItem('color-theme', 'dark');
             } else {
                 document.documentElement.classList.remove('dark');
                 localStorage.setItem('color-theme', 'light');
             }
        });

    });

    function handleRunSteelCheck() {
        const inputs = gatherInputs();
        const results = steelChecker.run(inputs);
        renderSteelResults(results);
    }

    function gatherInputs() {
        const getVal = (id) => parseFloat(document.getElementById(id).value) || 0;
        const getStr = (id) => document.getElementById(id).value;
        return {
            design_method: getStr('design_method'),
            unit_system: getStr('unit_system'),
            Fy: getVal('Fy'),
            Fu: getVal('Fu'),
            E: getVal('E'),
            section_type: getStr('section_type'),
            Section_Name: getStr('Section_Name'),
            d: getVal('d'),
            bf: getVal('bf'),
            tf: getVal('tf'),
            tw: getVal('tw'),
            Ag_manual: getVal('Ag_manual'),
            I_manual: getVal('I_manual'),
            Sx_manual: getVal('Sx_manual'),
            Zx_manual: getVal('Zx_manual'),
            ry_manual: getVal('ry_manual'),
            J_manual: getVal('J_manual'),
            Cw_manual: getVal('Cw_manual'),
            rts_manual: getVal('rts_manual'),
            Lb_input: getVal('Lb_input'),
            K: getVal('K'),
            Cb: getVal('Cb'),
            Pu_or_Pa: getVal('Pu_or_Pa'),
            Mu_or_Ma: getVal('Mu_or_Ma'),
            Vu_or_Va: getVal('Vu_or_Va'),
            Tu_or_Ta: getVal('Tu_or_Ta'),
        };
    }
    
    const steelChecker = (() => {

        // ... (All calculation logic will be placed here) ...

        function run(inputs) {
            // This will be the main entry point for the calculation logic
            // It will call all the individual check functions
            return {inputs}; // Placeholder
        }

        return { run };
    })();

    function renderSteelResults(results) {
        const resultsContainer = document.getElementById('steel-results-container');
        resultsContainer.innerHTML = `
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg space-y-4">
                <h2 class="text-2xl font-bold text-center border-b pb-2 dark:text-gray-200 dark:border-gray-700">Steel Check Results</h2>
                <p class="text-center text-gray-600 dark:text-gray-400">Calculation logic is not yet implemented.</p>
                <pre class="bg-gray-100 dark:bg-gray-900 p-4 rounded-md overflow-x-auto text-sm"><code>${JSON.stringify(results.inputs, null, 2)}</code></pre>
            </div>
        `;
    }

    </script>
</body>
</html>
